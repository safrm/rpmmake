name: rpmmake
author:  Miroslav Safr <miroslav.safr@gmail.com>
web: https://github.com/safrm/rpmmake
description: fast script to create rpm package inside the git repo without being root 

content: 
 rpmmake  ................ main linux bash script
 rpmmake-changelog ....... generates rpm changelog (<my-project>.changes file) from git log
 rpmmake-debchangelog .... generates debian changelog (debian/changelog file) from git log
 install.sh .............. executes installation to /urs/bin directory

usage1:
<my-project>$ rpmmake  ................... builds rpms from <my-project>/<my-project>.spec in <my-project>/rpm rootdir
								           requires <my-project>/<my-project>.spec and tags as x.y.z
usage2:
rpmmake  /<my-path>/<my-project> ......... builds rpms from /<my-path>/<my-project>/<my-project>.spec in /<my-path>/<my-project>/rpm rootdir

usage3: 
<some-other-name>$ rpmmake -b <my-project> ...... project name is taken from argument <my-project> instead of directory name
                                                  this is important for Hudson/Jenkins slaves because they are using own sub-directorical structure
	
usage4: generate changelogs
./rpmmake-changelog 
first tag: 1.0.4 - e43218284cff9c6c9e69dd17e145805604ecbf66
rpm changelog for 7 tags updated in ./rpmmake.changes

#check changelog form package
rpm -qp --changelog ./rpmmake-1.0.5-1.noarch.rpm 
* Wed May 16 2012 safrrmir-ul000590 <miroslav.safr@gmail.com> - 1.0.5
- New: changelog scripts added to installation
- Changes: rpmmake-debchangelog generated right debian/changelog format
- Fix: rpm changelog tag author New: debian changelog script rpmmake-debchangelog
- New: Added commits before first tag Changes: default 6 tags, changes file name unified
....

 ./rpmmake-debchangelog 
first tag: 1.0.4 - e43218284cff9c6c9e69dd17e145805604ecbf66
debian changelog for 7 tags updated in ./debian/changelog

#check changelog form package
apt-listchanges ./rpmmake_1.0.5_all.deb
...


install ubuntu:
  1. add release key
    wget -O - https://github.com/downloads/safrm/rpmmake/Release.key | sudo apt-key add -
  2. get package
    wget https://github.com/downloads/safrm/rpmmake/rpmmake_1.0.2-1_all.deb
  3.install package
    sudo dpkg -i ./rpmmake_1.0.2-1_all.deb

install fedora/RHEL:
  1. add release key
    wget https://github.com/downloads/safrm/rpmmake/Release.key 
    sudo rpm --import Release.key 
    rm Release.key
  2. get package
    wget https://github.com/downloads/safrm/rpmmake/rpmmake-1.0.2-1.noarch.rpm
  3.install package
    sudo rpm -i ./rpmmake-1.0.2-1.noarch.rpm

